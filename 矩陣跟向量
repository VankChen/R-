> ##1.Code2.R
> ##Code exhibit 3.6 建構矩陣(一)
> x=2:9
> dim(x)=c(2,4)
> x
     [,1] [,2] [,3] [,4]
[1,]    2    4    6    8
[2,]    3    5    7    9
> ##Code exhibit 3.7 建構矩陣(二)
> x=matrix(2:9, 2, 4)
> x
     [,1] [,2] [,3] [,4]
[1,]    2    4    6    8
[2,]    3    5    7    9
> y=matrix(2:9, 2, 4, byrow=TRUE)
> y
     [,1] [,2] [,3] [,4]
[1,]    2    3    4    5
[2,]    6    7    8    9
> ##Code exhibit 3.8 建構矩陣(三)
> x=cbind(c(1, 2, 3), c(4, 5, 6))
> x
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> y=rbind(c(1, 2, 3), c(4, 5, 6))
> y
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
> ##Code exhibit 3.9 矩陣運算
> x=matrix(1:8, 2, 4)
> x+x
     [,1] [,2] [,3] [,4]
[1,]    2    6   10   14
[2,]    4    8   12   16
> x-x
     [,1] [,2] [,3] [,4]
[1,]    0    0    0    0
[2,]    0    0    0    0
> x*x
     [,1] [,2] [,3] [,4]
[1,]    1    9   25   49
[2,]    4   16   36   64
> x/x
     [,1] [,2] [,3] [,4]
[1,]    1    1    1    1
[2,]    1    1    1    1
> y=matrix(-8:-1, 4, 2)
> x%*%y
     [,1] [,2]
[1,]  -94  -30
[2,] -120  -40
> x%*%t(x)
     [,1] [,2]
[1,]   84  100
[2,]  100  120
> ##Code exhibit 3.10 建立陣列
> x=1:18
> dim(x)=c(3, 3, 2)
> x
, , 1

     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9

, , 2

     [,1] [,2] [,3]
[1,]   10   13   16
[2,]   11   14   17
[3,]   12   15   18

> y=array(c(2:9, 12:19, 112:119), dim=c(2, 4, 3))
> y
, , 1

     [,1] [,2] [,3] [,4]
[1,]    2    4    6    8
[2,]    3    5    7    9

, , 2

     [,1] [,2] [,3] [,4]
[1,]   12   14   16   18
[2,]   13   15   17   19

, , 3

     [,1] [,2] [,3] [,4]
[1,]  112  114  116  118
[2,]  113  115  117  119

> ##2.練習1 
> set.seed(1)
> x=rnorm(50,5,1)#平均數為5,標準差為1
> M=matrix(x,10,5)
> M
          [,1]     [,2]     [,3]     [,4]     [,5]
 [1,] 4.373546 6.511781 5.918977 6.358680 4.835476
 [2,] 5.183643 5.389843 5.782136 4.897212 4.746638
 [3,] 4.164371 4.378759 5.074565 5.387672 5.696963
 [4,] 6.595281 2.785300 3.010648 4.946195 5.556663
 [5,] 5.329508 6.124931 5.619826 3.622940 4.311244
 [6,] 4.179532 4.955066 4.943871 4.585005 4.292505
 [7,] 5.487429 4.983810 4.844204 4.605710 5.364582
 [8,] 5.738325 5.943836 3.529248 4.940687 5.768533
 [9,] 5.575781 5.821221 4.521850 6.100025 4.887654
[10,] 4.694612 5.593901 5.417942 5.763176 5.881108
> M+M
           [,1]      [,2]      [,3]      [,4]      [,5]
 [1,]  8.747092 13.023562 11.837955 12.717359  9.670953
 [2,] 10.367287 10.779686 11.564273  9.794425  9.493277
 [3,]  8.328743  8.757519 10.149130 10.775343 11.393927
 [4,] 13.190562  5.570600  6.021297  9.892390 11.113326
 [5,] 10.659016 12.249862 11.239651  7.245881  8.622489
 [6,]  8.359063  9.910133  9.887743  9.170011  8.585010
 [7,] 10.974858  9.967619  9.688409  9.211420 10.729164
 [8,] 11.476649 11.887672  7.058495  9.881373 11.537066
 [9,] 11.151563 11.642442  9.043700 12.200051  9.775308
[10,]  9.389223 11.187803 10.835883 11.526351 11.762215
> M-M
      [,1] [,2] [,3] [,4] [,5]
 [1,]    0    0    0    0    0
 [2,]    0    0    0    0    0
 [3,]    0    0    0    0    0
 [4,]    0    0    0    0    0
 [5,]    0    0    0    0    0
 [6,]    0    0    0    0    0
 [7,]    0    0    0    0    0
 [8,]    0    0    0    0    0
 [9,]    0    0    0    0    0
[10,]    0    0    0    0    0
> M*M
          [,1]      [,2]      [,3]     [,4]     [,5]
 [1,] 19.12791 42.403294 35.034293 40.43281 23.38183
 [2,] 26.87016 29.050410 33.433100 23.98269 22.53058
 [3,] 17.34199 19.173534 25.751210 29.02701 32.45539
 [4,] 43.49773  7.757897  9.064003 24.46484 30.87651
 [5,] 28.40365 37.514779 31.582441 13.12570 18.58683
 [6,] 17.46848 24.552683 24.441863 21.02227 18.42560
 [7,] 30.11188 24.838359 23.466317 21.21257 28.77874
 [8,] 32.92837 35.329189 12.455589 24.41038 33.27597
 [9,] 31.08934 33.886616 20.447127 37.21031 23.88916
[10,] 22.03938 31.291732 29.354091 33.21419 34.58743
> M/M
      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    1    1    1    1
 [2,]    1    1    1    1    1
 [3,]    1    1    1    1    1
 [4,]    1    1    1    1    1
 [5,]    1    1    1    1    1
 [6,]    1    1    1    1    1
 [7,]    1    1    1    1    1
 [8,]    1    1    1    1    1
 [9,]    1    1    1    1    1
[10,]    1    1    1    1    1
> set.seed(2)
> y=rnorm(50,5,1)
> N=matrix(y,5,10)
> N
         [,1]     [,2]     [,3]     [,4]     [,5]
[1,] 4.103085 5.132420 5.417651 2.688931 7.090819
[2,] 5.184849 5.707955 5.981753 5.878605 3.800074
[3,] 6.587845 4.760302 4.607305 5.035807 6.589638
[4,] 3.869624 6.984474 3.960331 6.012829 6.954652
[5,] 4.919748 4.861213 6.782229 5.432265 5.004938
         [,6]     [,7]     [,8]     [,9]    [,10]
[1,] 2.548294 5.738939 4.404340 4.616414 6.990920
[2,] 5.477237 5.318960 3.274020 3.040897 4.694516
[3,] 4.403442 6.076164 4.097416 4.158295 4.909156
[4,] 5.792203 4.715842 4.440938 6.903547 4.815839
[5,] 5.289637 4.223325 4.753487 5.622494 3.801232
> M%*%N
          [,1]     [,2]     [,3]     [,4]     [,5]
 [1,] 139.0960 155.7103 147.8945 144.3484 163.1849
 [2,] 129.6089 142.1732 138.5513 129.9720 153.1553
 [3,] 122.0963 135.8477 132.1089 125.8358 145.5903
 [4,] 107.8133 125.6384 123.5380 109.1949 139.3992
 [5,] 125.8765 135.3284 134.9914 123.8410 144.8722
 [6,] 114.2700 126.1594 122.3320 116.1506 134.4151
 [7,] 124.4833 137.9179 136.4836 125.2828 148.6513
 [8,] 125.1112 142.7291 141.5934 129.1877 149.7648
 [9,] 130.5001 149.7353 143.1696 135.2141 158.3412
[10,] 135.1934 150.6576 146.5683 139.3923 159.7636
          [,6]     [,7]      [,8]     [,9]    [,10]
 [1,] 135.2842 146.1084 116.05867 135.6895 139.2051
 [2,] 121.6658 136.6913 108.48010 124.8597 131.5538
 [3,] 118.2825 127.4909 104.47681 122.8665 122.1824
 [4,] 103.3618 117.7511  98.88214 116.8241 118.9047
 [5,] 115.6652 132.6040 103.13557 115.8485 127.4359
 [6,] 108.8239 120.1325  95.65425 110.7078 115.1481
 [7,] 117.6662 131.8111 106.28846 122.5892 128.1121
 [8,] 121.8505 133.6531 108.55650 125.7825 131.0663
 [9,] 127.1911 139.8463 112.46756 131.8377 136.4620
[10,] 130.9504 141.6322 114.74045 134.0650 135.7878
> M%*%t(M)
          [,1]     [,2]     [,3]     [,4]     [,5]
 [1,] 160.3801 146.0848 138.5688 123.1224 140.3407
 [2,] 146.0848 135.8669 127.9553 117.2059 131.3395
 [3,] 138.5688 127.9553 123.7491 113.2437 121.6120
 [4,] 123.1224 117.2059 113.2437 115.6610 111.0046
 [5,] 140.3407 131.3395 121.6120 111.0046 129.2134
 [6,] 129.7192 119.7871 113.3469 102.7811 115.5252
 [7,] 140.3523 131.3355 124.6327 117.2467 126.8086
 [8,] 144.0012 133.7651 127.3145 121.5179 129.5912
 [9,] 151.4794 139.4973 132.3655 123.9324 133.9547
[10,] 154.1112 141.9517 136.0927 124.0396 135.9647
          [,6]     [,7]     [,8]     [,9]    [,10]
 [1,] 129.7192 140.3523 144.0012 151.4794 154.1112
 [2,] 119.7871 131.3355 133.7651 139.4973 141.9517
 [3,] 113.3469 124.6327 127.3145 132.3655 136.0927
 [4,] 102.7811 117.2467 121.5179 123.9324 124.0396
 [5,] 115.5252 126.8086 129.5912 133.9547 135.9647
 [6,] 105.9109 115.7238 118.2983 123.4531 125.7939
 [7,] 115.7238 128.4079 131.9091 135.8285 137.9791
 [8,] 118.2983 131.9091 138.3995 140.8877 141.7091
 [9,] 123.4531 135.8285 140.8877 146.5225 147.1389
[10,] 125.7939 137.9791 141.7091 147.1389 150.4868
> col(M)
      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    2    3    4    5
 [2,]    1    2    3    4    5
 [3,]    1    2    3    4    5
 [4,]    1    2    3    4    5
 [5,]    1    2    3    4    5
 [6,]    1    2    3    4    5
 [7,]    1    2    3    4    5
 [8,]    1    2    3    4    5
 [9,]    1    2    3    4    5
[10,]    1    2    3    4    5
> row(M)
      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    1    1    1    1
 [2,]    2    2    2    2    2
 [3,]    3    3    3    3    3
 [4,]    4    4    4    4    4
 [5,]    5    5    5    5    5
 [6,]    6    6    6    6    6
 [7,]    7    7    7    7    7
 [8,]    8    8    8    8    8
 [9,]    9    9    9    9    9
[10,]   10   10   10   10   10
> diag(M)
[1] 4.373546 5.389843 5.074565 4.946195 4.311244
> ncol(M)
[1] 5
> nrow(M)
[1] 10
> #solve(M,N)因M必須是方陣,因此跳到練習2作答
> #solve(M)同上
> var(M)
           [,1]       [,2]        [,3]        [,4]
[1,]  0.6093144 -0.3144902 -0.53396816 -0.15426137
[2,] -0.3144902  1.1438620  0.61733799  0.15204620
[3,] -0.5339682  0.6173380  0.91318591  0.06410393
[4,] -0.1542614  0.1520462  0.06410393  0.65377679
[5,]  0.1055258 -0.2155141 -0.26420350  0.16471012
           [,5]
[1,]  0.1055258
[2,] -0.2155141
[3,] -0.2642035
[4,]  0.1647101
[5,]  0.3549372
>

##3.練習2 Solve the linear equation system

> 0.002w1+0.230w2-0.805w3+0.801w4+2.550w5+0.432w6=0.778
> -1.102w1+2.394w2-0.023w3+0.033w4-0.704w5+0.726w6=-0.580
> 0.761w1-0.046w2+0.361w3-0.790w4-1.113w5+0.097w6=1.677
> 0.650w1-1.242w2+0.788w3-0.506w4+1.979w5+0.983w6=1.336
> 0.738w1-0.424w2-0.336w3+0.191w4-0.991w5+0.018w6=-0.288
> 1.340w1-1.270w2+2.357w3-1.259w4+0.028w5+0.938w6=-0.328
> 
> #Ans:
> 
> data=c(0.002,0.230,-0.805,0.801,2.550,0.432,-1.102,2.394,-0.023,0.033,-0.704,0.726,0.761,-0.046,0.361,-0.790,-1.113,0.097,0.650,-1.242,0.788,-0.506,1.979,0.983,0.738,-0.424,-0.336,0.191,-0.991,0.018,1.340,-1.270,2.357,-1.259,0.028,0.938)
> A=matrix(data,6,6,byrow=TRUE)
> A
       [,1]   [,2]   [,3]   [,4]   [,5]  [,6]
[1,]  0.002  0.230 -0.805  0.801  2.550 0.432
[2,] -1.102  2.394 -0.023  0.033 -0.704 0.726
[3,]  0.761 -0.046  0.361 -0.790 -1.113 0.097
[4,]  0.650 -1.242  0.788 -0.506  1.979 0.983
[5,]  0.738 -0.424 -0.336  0.191 -0.991 0.018
[6,]  1.340 -1.270  2.357 -1.259  0.028 0.938
> data2=c(0.778,-0.580,1.677,1.336,-0.288,-0.328)
> B=matrix(data2,6,1)
> B
       [,1]
[1,]  0.778
[2,] -0.580
[3,]  1.677
[4,]  1.336
[5,] -0.288
[6,] -0.328
> solve(A,B)
           [,1]
[1,]  0.6942186
[2,]  0.3575827
[3,] -2.1480483
[4,] -3.4752515
[5,]  0.7104660
[6,] -0.1454240
> solve(A)
           [,1]        [,2]       [,3]       [,4]
[1,]  0.9185914 -0.19943790  0.6809076 -0.8010608
[2,]  0.6816538  0.09292563  0.5255575 -0.7452608
[3,]  0.2335513 -0.04545632 -0.6410962 -0.8012145
[4,]  0.3633540  0.06721837 -1.3205043 -0.7682674
[5,]  0.3742000 -0.14865857  0.2372663 -0.1337412
[6,] -0.4996883  0.61960901 -0.4296937  1.1214275
           [,5]        [,6]
[1,]  0.1549852  0.49740445
[2,] -0.3806982  0.34810914
[3,] -0.2230540  0.83784895
[4,]  0.8560200  0.70588267
[5,] -0.4722485  0.06740403
[6,]  0.9866989 -0.33306436
>
